var e=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)},t=p,n=c,r=function(e){return s(c(e))},o=s,i=d,a=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^()])+)\\))?|\\(((?:\\\\.|[^()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function c(e){for(var t,n=[],r=0,o=0,i="";null!=(t=a.exec(e));){var c=t[0],s=t[1],f=t.index;if(i+=e.slice(o,f),o=f+c.length,s)i+=s[1];else{i&&(n.push(i),i="");var l=t[2],h=t[3],d=t[4],p=t[5],v=t[6],y=t[7],_="+"===v||"*"===v,g="?"===v||"*"===v,b=l||"/",m=d||p||(y?".*":"[^"+b+"]+?");n.push({name:h||r++,prefix:l||"",delimiter:b,optional:g,repeat:_,pattern:u(m)})}}return o<e.length&&(i+=e.substr(o)),i&&n.push(i),n}function s(t){for(var n=new Array(t.length),r=0;r<t.length;r++)"object"==typeof t[r]&&(n[r]=new RegExp("^"+t[r].pattern+"$"));return function(r){for(var o="",i=r||{},a=0;a<t.length;a++){var c=t[a];if("string"!=typeof c){var s,f=i[c.name];if(null==f){if(c.optional)continue;throw new TypeError('Expected "'+c.name+'" to be defined')}if(e(f)){if(!c.repeat)throw new TypeError('Expected "'+c.name+'" to not repeat, but received "'+f+'"');if(0===f.length){if(c.optional)continue;throw new TypeError('Expected "'+c.name+'" to not be empty')}for(var u=0;u<f.length;u++){if(s=encodeURIComponent(f[u]),!n[a].test(s))throw new TypeError('Expected all "'+c.name+'" to match "'+c.pattern+'", but received "'+s+'"');o+=(0===u?c.prefix:c.delimiter)+s}}else{if(s=encodeURIComponent(f),!n[a].test(s))throw new TypeError('Expected "'+c.name+'" to match "'+c.pattern+'", but received "'+s+'"');o+=c.prefix+s}}else o+=c}return o}}function f(e){return e.replace(/([.+*?=^!:${}()[\]|\/])/g,"\\$1")}function u(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function h(e){return e.sensitive?"":"i"}function d(e,t){for(var n=(t=t||{}).strict,r=!1!==t.end,o="",i=e[e.length-1],a="string"==typeof i&&/\/$/.test(i),c=0;c<e.length;c++){var s=e[c];if("string"==typeof s)o+=f(s);else{var u=f(s.prefix),l=s.pattern;s.repeat&&(l+="(?:"+u+l+")*"),o+=l=s.optional?u?"(?:"+u+"("+l+"))?":"("+l+")?":u+"("+l+")"}}return n||(o=(a?o.slice(0,-2):o)+"(?:\\/(?=$))?"),o+=r?"$":n&&a?"":"(?=\\/|$)",new RegExp("^"+o,h(t))}function p(t,n,r){return e(n=n||[])?r||(r={}):(r=n,n=[]),t instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,pattern:null});return l(e,t)}(t,n):e(t)?function(e,t,n){for(var r=[],o=0;o<e.length;o++)r.push(p(e[o],t,n).source);return l(new RegExp("(?:"+r.join("|")+")",h(n)),t)}(t,n,r):function(e,t,n){for(var r=c(e),o=d(r,n),i=0;i<r.length;i++)"string"!=typeof r[i]&&t.push(r[i]);return l(o,t)}(t,n,r)}t.parse=n,t.compile=r,t.tokensToFunction=o,t.tokensToRegExp=i;var v,y="undefined"!=typeof document,_="undefined"!=typeof window,g="undefined"!=typeof history,b="undefined"!=typeof process,m=y&&document.ontouchstart?"touchstart":"click",w=_&&!(!window.history.location&&!window.location);function E(){this.callbacks=[],this.exits=[],this.current="",this.len=0,this._decodeURLComponents=!0,this._base="",this._strict=!1,this._running=!1,this._hashbang=!1,this.clickHandler=this.clickHandler.bind(this),this._onpopstate=this._onpopstate.bind(this)}function S(e,t){if("function"==typeof e)return S.call(this,"*",e);if("function"==typeof t)for(var n=new x(e,null,this),r=1;r<arguments.length;++r)this.callbacks.push(n.middleware(arguments[r]));else"string"==typeof e?this["string"==typeof t?"redirect":"show"](e,t):this.start(e)}function I(e){if(!e.handled){var t=this,n=t._window;(t._hashbang?w&&this._getBase()+n.location.hash.replace("#!",""):w&&n.location.pathname+n.location.search)!==e.canonicalPath&&(t.stop(),e.handled=!1,w&&(n.location.href=e.canonicalPath))}}function k(e,t,n){var r=this.page=n||S,o=r._window,i=r._hashbang,a=r._getBase();"/"===e[0]&&0!==e.indexOf(a)&&(e=a+(i?"#!":"")+e);var c=e.indexOf("?");this.canonicalPath=e;var s=new RegExp("^"+a.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"));if(this.path=e.replace(s,"")||"/",i&&(this.path=this.path.replace("#!","")||"/"),this.title=y&&o.document.title,this.state=t||{},this.state.path=e,this.querystring=~c?r._decodeURLEncodedURIComponent(e.slice(c+1)):"",this.pathname=r._decodeURLEncodedURIComponent(~c?e.slice(0,c):e),this.params={},this.hash="",!i){if(!~this.path.indexOf("#"))return;var f=this.path.split("#");this.path=this.pathname=f[0],this.hash=r._decodeURLEncodedURIComponent(f[1])||"",this.querystring=this.querystring.split("#")[0]}}function x(e,n,r){var o=this.page=r||N,i=n||{};i.strict=i.strict||o._strict,this.path="*"===e?"(.*)":e,this.method="GET",this.regexp=t(this.path,this.keys=[],i)}E.prototype.configure=function(e){var t=e||{};this._window=t.window||_&&window,this._decodeURLComponents=!1!==t.decodeURLComponents,this._popstate=!1!==t.popstate&&_,this._click=!1!==t.click&&y,this._hashbang=!!t.hashbang;var n=this._window;this._popstate?n.addEventListener("popstate",this._onpopstate,!1):_&&n.removeEventListener("popstate",this._onpopstate,!1),this._click?n.document.addEventListener(m,this.clickHandler,!1):y&&n.document.removeEventListener(m,this.clickHandler,!1),this._hashbang&&_&&!g?n.addEventListener("hashchange",this._onpopstate,!1):_&&n.removeEventListener("hashchange",this._onpopstate,!1)},E.prototype.base=function(e){if(0===arguments.length)return this._base;this._base=e},E.prototype._getBase=function(){var e=this._base;if(e)return e;var t=_&&this._window&&this._window.location;return _&&this._hashbang&&t&&"file:"===t.protocol&&(e=t.pathname),e},E.prototype.strict=function(e){if(0===arguments.length)return this._strict;this._strict=e},E.prototype.start=function(e){var t=e||{};if(this.configure(t),!1!==t.dispatch){var n;if(this._running=!0,w){var r=this._window.location;n=this._hashbang&&~r.hash.indexOf("#!")?r.hash.substr(2)+r.search:this._hashbang?r.search+r.hash:r.pathname+r.search+r.hash}this.replace(n,null,!0,t.dispatch)}},E.prototype.stop=function(){if(this._running){this.current="",this.len=0,this._running=!1;var e=this._window;this._click&&e.document.removeEventListener(m,this.clickHandler,!1),_&&e.removeEventListener("popstate",this._onpopstate,!1),_&&e.removeEventListener("hashchange",this._onpopstate,!1)}},E.prototype.show=function(e,t,n,r){var o=new k(e,t,this),i=this.prevContext;return this.prevContext=o,this.current=o.path,!1!==n&&this.dispatch(o,i),!1!==o.handled&&!1!==r&&o.pushState(),o},E.prototype.back=function(e,t){var n=this;if(this.len>0){var r=this._window;g&&r.history.back(),this.len--}else e?setTimeout((function(){n.show(e,t)})):setTimeout((function(){n.show(n._getBase(),t)}))},E.prototype.redirect=function(e,t){var n=this;"string"==typeof e&&"string"==typeof t&&S.call(this,e,(function(e){setTimeout((function(){n.replace(t)}),0)})),"string"==typeof e&&void 0===t&&setTimeout((function(){n.replace(e)}),0)},E.prototype.replace=function(e,t,n,r){var o=new k(e,t,this),i=this.prevContext;return this.prevContext=o,this.current=o.path,o.init=n,o.save(),!1!==r&&this.dispatch(o,i),o},E.prototype.dispatch=function(e,t){var n=0,r=0,o=this;function i(){var t=o.callbacks[n++];if(e.path===o.current)return t?void t(e,i):I.call(o,e);e.handled=!1}t?function e(){var n=o.exits[r++];if(!n)return i();n(t,e)}():i()},E.prototype.exit=function(e,t){if("function"==typeof e)return this.exit("*",e);for(var n=new x(e,null,this),r=1;r<arguments.length;++r)this.exits.push(n.middleware(arguments[r]))},E.prototype.clickHandler=function(e){if(1===this._which(e)&&!(e.metaKey||e.ctrlKey||e.shiftKey||e.defaultPrevented)){var t=e.target,n=e.path||(e.composedPath?e.composedPath():null);if(n)for(var r=0;r<n.length;r++)if(n[r].nodeName&&"A"===n[r].nodeName.toUpperCase()&&n[r].href){t=n[r];break}for(;t&&"A"!==t.nodeName.toUpperCase();)t=t.parentNode;if(t&&"A"===t.nodeName.toUpperCase()){var o="object"==typeof t.href&&"SVGAnimatedString"===t.href.constructor.name;if(!t.hasAttribute("download")&&"external"!==t.getAttribute("rel")){var i=t.getAttribute("href");if((this._hashbang||!this._samePath(t)||!t.hash&&"#"!==i)&&!(i&&i.indexOf("mailto:")>-1)&&!(o?t.target.baseVal:t.target)&&(o||this.sameOrigin(t.href))){var a=o?t.href.baseVal:t.pathname+t.search+(t.hash||"");a="/"!==a[0]?"/"+a:a,b&&a.match(/^\/[a-zA-Z]:\//)&&(a=a.replace(/^\/[a-zA-Z]:\//,"/"));var c=a,s=this._getBase();0===a.indexOf(s)&&(a=a.substr(s.length)),this._hashbang&&(a=a.replace("#!","")),(!s||c!==a||w&&"file:"===this._window.location.protocol)&&(e.preventDefault(),this.show(c))}}}}},E.prototype._onpopstate=(v=!1,_?(y&&"complete"===document.readyState?v=!0:window.addEventListener("load",(function(){setTimeout((function(){v=!0}),0)})),function(e){if(v){var t=this;if(e.state){var n=e.state.path;t.replace(n,e.state)}else if(w){var r=t._window.location;t.show(r.pathname+r.search+r.hash,void 0,void 0,!1)}}}):function(){}),E.prototype._which=function(e){return null==(e=e||_&&this._window.event).which?e.button:e.which},E.prototype._toURL=function(e){var t=this._window;if("function"==typeof URL&&w)return new URL(e,t.location.toString());if(y){var n=t.document.createElement("a");return n.href=e,n}},E.prototype.sameOrigin=function(e){if(!e||!w)return!1;var t=this._toURL(e),n=this._window.location;return n.protocol===t.protocol&&n.hostname===t.hostname&&(n.port===t.port||""===n.port&&(80==t.port||443==t.port))},E.prototype._samePath=function(e){if(!w)return!1;var t=this._window.location;return e.pathname===t.pathname&&e.search===t.search},E.prototype._decodeURLEncodedURIComponent=function(e){return"string"!=typeof e?e:this._decodeURLComponents?decodeURIComponent(e.replace(/\+/g," ")):e},k.prototype.pushState=function(){var e=this.page,t=e._window,n=e._hashbang;e.len++,g&&t.history.pushState(this.state,this.title,n&&"/"!==this.path?"#!"+this.path:this.canonicalPath)},k.prototype.save=function(){var e=this.page;g&&e._window.history.replaceState(this.state,this.title,e._hashbang&&"/"!==this.path?"#!"+this.path:this.canonicalPath)},x.prototype.middleware=function(e){var t=this;return function(n,r){if(t.match(n.path,n.params))return n.routePath=t.path,e(n,r);r()}},x.prototype.match=function(e,t){var n=this.keys,r=e.indexOf("?"),o=~r?e.slice(0,r):e,i=this.regexp.exec(decodeURIComponent(o));if(!i)return!1;delete t[0];for(var a=1,c=i.length;a<c;++a){var s=n[a-1],f=this.page._decodeURLEncodedURIComponent(i[a]);void 0===f&&hasOwnProperty.call(t,s.name)||(t[s.name]=f)}return!0};var N=function e(){var t=new E;function n(){return S.apply(t,arguments)}return n.callbacks=t.callbacks,n.exits=t.exits,n.base=t.base.bind(t),n.strict=t.strict.bind(t),n.start=t.start.bind(t),n.stop=t.stop.bind(t),n.show=t.show.bind(t),n.back=t.back.bind(t),n.redirect=t.redirect.bind(t),n.replace=t.replace.bind(t),n.dispatch=t.dispatch.bind(t),n.exit=t.exit.bind(t),n.configure=t.configure.bind(t),n.sameOrigin=t.sameOrigin.bind(t),n.clickHandler=t.clickHandler.bind(t),n.create=e,Object.defineProperty(n,"len",{get:function(){return t.len},set:function(e){t.len=e}}),Object.defineProperty(n,"current",{get:function(){return t.current},set:function(e){t.current=e}}),n.Context=k,n.Route=x,n}(),R=N,j=N;R.default=j;const A=()=>{};function C(e){return void 0===e?[]:Array.isArray(e)?e:[e]}function O(e){return 0===e.length?void 0:1===e.length?e[0]:e}function T(e){return null!=e&&"function"==typeof e.then}const L="",D=Symbol.for("crank.Portal"),P=Symbol.for("crank.Copy"),B=Symbol.for("crank.Raw"),U=Symbol.for("crank.Element");class F{constructor(e,t,n,r){this._f=0,this.tag=e,this.props=t,this.key=n,this.ref=r,this._ch=void 0,this._n=void 0,this._fb=void 0,this._ic=void 0,this._ov=void 0}get hadChildren(){return 0!=(2&this._f)}}function M(e,t,...n){let r,o;const i={};if(null!=t)for(const a in t)switch(a){case"crank-key":null!=t["crank-key"]&&(r=t["crank-key"]);break;case"crank-ref":"function"==typeof t["crank-ref"]&&(o=t["crank-ref"]);break;default:i[a]=t[a]}return n.length>1?i.children=n:1===n.length&&(i.children=n[0]),new F(e,i,r,o)}function z(e){if("boolean"!=typeof e&&null!=e)return"string"==typeof e||function(e){return null!=e&&e.$$typeof===U}(e)?e:"function"==typeof e[Symbol.iterator]?M("",null,e):e.toString()}function q(e){const t=[];let n;for(let r=0;r<e.length;r++){const o=e[r];if(o)if("string"==typeof o)n=(n||"")+o;else if(Array.isArray(o))for(let e=0;e<o.length;e++){const r=o[e];r&&("string"==typeof r?n=(n||"")+r:(n&&(t.push(n),n=void 0),t.push(r)))}else n&&(t.push(n),n=void 0),t.push(o);else;}return n&&t.push(n),t}function W(e){return void 0!==e._fb?"object"==typeof e._fb?W(e._fb):e._fb:e.tag!==D?"function"!=typeof e.tag&&""!==e.tag?e._n:O(H(e)):void 0}function $(e){const t="function"==typeof e.tag?e._n:void 0;return t&&t._f&Y&&t._iv?t._iv:e._ic?e._ic:W(e)}function H(e){const t=[],n=C(e._ch);for(let r=0;r<n.length;r++){const e=n[r];e&&t.push("string"==typeof e?e:W(e))}return q(t)}F.prototype.$$typeof=U;function K(e,t,n,r,o,i){return i._f|=1,"function"==typeof i.tag?(i._n=new ne(e,t,n,r,o,i),ce(i._n)):i.tag===B?J(e,o,i,[]):(""!==i.tag&&(i.tag===D?t=i.props.root:(i._n=e.create(i,o),e.patch(i,i._n)),n=i,o=e.scope(n,o)),G(e,t,n,r,o,i,i.props.children))}function V(e,t,n,r,o,i){return"function"==typeof i.tag?ce(i._n):i.tag===B?J(e,o,i,[]):(""!==i.tag&&(i.tag===D?t=i.props.root:e.patch(i,i._n),n=i,o=e.scope(n,o)),G(e,t,n,r,o,i,i.props.children))}function X(e){const t=new Map;for(let n=0;n<e.length;n++){const r=e[n];"object"==typeof r&&void 0!==r.key&&t.set(r.key,r)}return t}function G(e,t,n,r,o,i,a){const c=C(i._ch),s=null==(f=a)?[]:Array.isArray(f)?f:"string"==typeof f||"function"!=typeof f[Symbol.iterator]?[f]:[...f];var f;const u=[],l=[];let h,d,p,v=!1,y=0;for(let _=0,g=c.length,b=s.length;_<b;_++){let i,a=y>=g?void 0:c[y],f=z(s[_]),b="object"==typeof a?a.key:void 0,m="object"==typeof f?f.key:void 0;if(void 0!==m&&d&&d.has(m)&&(console.error("Duplicate key",m),m=void 0),b===m)void 0!==p&&void 0!==m&&p.delete(m),y++;else if(p||(p=X(c.slice(y))),void 0===m){for(;void 0!==a&&void 0!==b;)y++,a=c[y],b="object"==typeof a?a.key:void 0;y++}else a=p.get(m),void 0!==a&&p.delete(m),d||(d=new Set),d.add(m);"object"==typeof a&&"object"==typeof f&&a.tag===f.tag?(a.tag===D&&a.props.root!==f.props.root&&(e.arrange(a,a.props.root,[]),e.complete(a.props.root)),a.props=f.props,a.ref=f.ref,f=a,i=V(e,t,n,r,o,f)):"object"==typeof f?f.tag===P?(i="object"==typeof a?$(a):a,"function"==typeof f.ref&&(T(i)?i.then(f.ref).catch(A):f.ref(i)),f=a):(f=new F(f.tag,f.props,f.key,f.ref),i=K(e,t,n,r,o,f),T(i)&&(f._fb=a)):"string"==typeof f&&(f=i=e.escape(f,o)),u[_]=f,l[_]=i,v=v||T(i),"object"==typeof a&&a!==f&&(h||(h=[]),h.push(a))}for(i._ch=O(u);y<c.length;y++){const e=c[y];"object"==typeof e&&void 0===e.key&&(h||(h=[]),h.push(e))}if(void 0!==p&&p.size>0&&(h||(h=[]),h.push(...p.values())),v){let t,a=Promise.all(l).finally((()=>{if(h)for(let t=0;t<h.length;t++)Q(e,n,r,h[t])}));a=Promise.race([a,new Promise((e=>t=e))]),i._ov&&i._ov(a),i._ov=t;return i._ic=a.then((t=>J(e,o,i,q(t))))}if(h)for(let _=0;_<h.length;_++)Q(e,n,r,h[_]);return i._ov&&(i._ov(l),i._ov=void 0),J(e,o,i,q(l))}function J(e,t,n,r){let o;return n._ic&&(n._ic=void 0),void 0!==n._fb&&(n._fb=void 0),"function"==typeof n.tag?o=function(e,t){if(32&e._f)return;const n=de.get(e);if(n&&n.length)for(let a=0;a<t.length;a++){const e=t[a];if(ve(e))for(let t=0;t<n.length;t++){const r=n[t];e.addEventListener(r.type,r.callback,r.options)}}if(256&e._f)e._f|=512;else if(!(e._f&Y)){const n=_e(e._pa,e._ho);if(n.length)for(let e=0;e<t.length;e++){const r=t[e];if(ve(r))for(let e=0;e<n.length;e++){const t=n[e];r.addEventListener(t.type,t.callback,t.options)}}const r=e._ho,o=H(r);e._re.arrange(r,r.tag===D?r.props.root:r._n,o),o.length?r._f|=2:r._f&=-3,e._re.complete(e._rt)}let r=O(t);const o=ee.get(e);if(o&&o.size){const t=Array.from(o);o.clear();const n=e._re.read(r);e._f|=256;for(const e of t)try{e(n)}catch(i){console.error(i)}e._f&=-257,512&e._f&&(e._f&=-513,r=W(e._el))}return e._f&=~Y,r}(n._n,r):n.tag===B?("string"==typeof n.props.value?n._n=e.parse(n.props.value,t):n._n=n.props.value,o=n._n):""===n.tag?o=O(r):(n.tag===D?(e.arrange(n,n.props.root,r),e.complete(n.props.root)):e.arrange(n,n._n,r),o=n._n,r.length?n._f|=2:n._f&=-3),n.ref&&n.ref(e.read(o)),o}function Q(e,t,n,r){if("function"==typeof r.tag)!function(e){e._f|=32,ge(e);const t=te.get(e);if(t&&t.size){const r=Array.from(t);t.clear();const o=e._re.read(W(e._el));for(const e of r)try{e(o)}catch(n){console.error(n)}}if(!(16&e._f)&&(e._f|=16,ae(e),e._it&&"function"==typeof e._it.return))try{e._f|=2;const t=e._it.return();T(t)&&t.catch((t=>me(e._pa,t)))}finally{e._f&=-3}}(r._n),n=r._n;else if(r.tag===D)t=r,e.arrange(t,t.props.root,[]),e.complete(t.props.root);else if(""!==r.tag){if(ve(r._n)){const e=_e(n,t);for(let t=0;t<e.length;t++){const n=e[t];r._n.removeEventListener(n.type,n.callback,n.options)}}t=r,e.dispose(t,t._n)}const o=C(r._ch);for(let i=0;i<o.length;i++){const r=o[i];"object"==typeof r&&Q(e,t,n,r)}}const Y=1,Z=new WeakMap,ee=new WeakMap,te=new WeakMap;class ne{constructor(e,t,n,r,o,i){this._f=0,this._re=e,this._rt=t,this._ho=n,this._pa=r,this._sc=o,this._el=i,this._it=void 0,this._oa=void 0,this._ib=void 0,this._iv=void 0,this._eb=void 0,this._ev=void 0}get props(){return this._el.props}get value(){return this._re.read(W(this._el))}*[Symbol.iterator](){for(;!(16&this._f);){if(4&this._f)throw new Error("Context iterated twice without a yield");if(128&this._f)throw new Error("Use for await…of in async generator components");this._f|=4,yield this._el.props}}async*[Symbol.asyncIterator](){do{if(4&this._f)throw new Error("Context iterated twice without a yield");if(64&this._f)throw new Error("Use for…of in sync generator components");if(this._f|=4,8&this._f)this._f&=-9;else if(await new Promise((e=>this._oa=e)),16&this._f)break;yield this._el.props}while(!(16&this._f))}refresh(){return 32&this._f?(console.error("Component is unmounted"),this._re.read(void 0)):2&this._f?(console.error("Component is already executing"),this._re.read(void 0)):(ae(this),this._re.read(ie(this)))}schedule(e){let t=ee.get(this);t||(t=new Set,ee.set(this,t)),t.add(e)}cleanup(e){let t=te.get(this);t||(t=new Set,te.set(this,t)),t.add(e)}consume(e){for(let t=this._pa;void 0!==t;t=t._pa){const n=Z.get(t);if(n&&n.has(e))return n.get(e)}}provide(e,t){let n=Z.get(this);n||(n=new Map,Z.set(this,n)),n.set(e,t)}addEventListener(e,t,n){let r,o;if(null==t)return;{const e=de.get(this);e?r=e:(r=[],de.set(this,r))}n=pe(n),o="object"==typeof t?()=>t.handleEvent.apply(t,arguments):t;const i={type:e,callback:o,listener:t,options:n};if(n.once&&(i.callback=function(){const e=r.indexOf(i);return-1!==e&&r.splice(e,1),o.apply(this,arguments)}),!r.some((e=>i.type===e.type&&i.listener===e.listener&&!i.options.capture==!e.options.capture))){r.push(i);for(const e of H(this._el))ve(e)&&e.addEventListener(i.type,i.callback,i.options)}}removeEventListener(e,t,n){const r=de.get(this);if(null==t||null==r)return;const o=pe(n),i=r.findIndex((n=>n.type===e&&n.listener===t&&!n.options.capture==!o.capture));if(-1===i)return;const a=r[i];r.splice(i,1);for(const c of H(this._el))ve(c)&&c.removeEventListener(a.type,a.callback,a.options)}dispatchEvent(e){const t=[];for(let i=this._pa;void 0!==i;i=i._pa)t.push(i);let n=!1;const r=e.stopImmediatePropagation;ye(e,"stopImmediatePropagation",(()=>(n=!0,r.call(e)))),ye(e,"target",this);try{ye(e,"eventPhase",ue);for(let r=t.length-1;r>=0;r--){const o=t[r],i=de.get(o);if(i){ye(e,"currentTarget",o);for(const t of i)if(t.type===e.type&&t.options.capture&&(t.callback.call(this,e),n))return!0}if(e.cancelBubble)return!0}{const t=de.get(this);if(t){ye(e,"eventPhase",le),ye(e,"currentTarget",this);for(const r of t)if(r.type===e.type&&(r.callback.call(this,e),n))return!0;if(e.cancelBubble)return!0}}if(e.bubbles){ye(e,"eventPhase",he);for(let r=0;r<t.length;r++){const o=t[r],i=de.get(o);if(i){ye(e,"currentTarget",o);for(const t of i)if(t.type===e.type&&!t.options.capture&&(t.callback.call(this,e),n))return!0}if(e.cancelBubble)return!0}}}catch(o){console.error(o)}finally{return ye(e,"eventPhase",fe),ye(e,"currentTarget",null),!e.defaultPrevented}}}function re(e){const t=e._el;if(16&e._f)return[void 0,W(t)];const n=!e._it;if(n)try{e._f|=2,ge(e);const n=t.tag.call(e,t.props);if(!function(e){return null!=e&&"function"==typeof e.next}(n)){if(T(n)){const t=n instanceof Promise?n:Promise.resolve(n),r=t.then((t=>se(e,t)));return[t,r]}return[void 0,se(e,n)]}e._it=n}finally{e._f&=-3}let r,o,i;r=n?void 0:e._el._ic?e._el._ic.then(e._re.read,(()=>e._re.read(void 0))):e._re.read(W(t));try{e._f|=2,o=e._it.next(r)}catch(a){throw e._f|=16,a}finally{e._f&=-3}if(T(o)){n&&(e._f|=128);const t=o.then((t=>{4&e._f||(e._f&=-9),e._f&=-5,t.done&&(e._f|=16);try{const n=se(e,t.value);return T(n)?n.catch((t=>be(e,t))):n}catch(a){return be(e,a)}}),(t=>{throw e._f|=16,t}));return[o,t]}n&&(e._f|=64),e._f&=-5,o.done&&(e._f|=16);try{i=se(e,o.value),T(i)&&(i=i.catch((t=>be(e,t))))}catch(a){i=be(e,a)}return T(i)?[i.catch(A),i]:[void 0,i]}function oe(e){e._ib=e._eb,e._iv=e._ev,e._eb=void 0,e._ev=void 0,128&e._f&&!(16&e._f)&&ie(e)}function ie(e){if(e._ib){if(128&e._f)return e._iv;if(!e._eb){let t;e._eb=e._ib.then((()=>{try{const[n,r]=re(e);if(t(r),n)return n.catch((t=>{if(!(e._f&Y))return me(e._pa,t)}))}catch(n){if(!(e._f&Y))return me(e._pa,n)}})).finally((()=>oe(e))),e._ev=new Promise((e=>t=e))}}else try{const[t,n]=re(e);return t&&(e._ib=t.catch((t=>{if(!(e._f&Y))return me(e._pa,t)})).finally((()=>oe(e))),e._iv=n),n}catch(t){if(!(e._f&Y))return me(e._pa,t);throw t}return e._ev}function ae(e){e._oa?(e._oa(),e._oa=void 0):e._f|=8}function ce(e){return e._f|=Y,ae(e),ie(e)}function se(e,t){return G(e._re,e._rt,e._ho,e,e._sc,e._el,z(t))}const fe=0,ue=1,le=2,he=3,de=new WeakMap;function pe(e){return"boolean"==typeof e?{capture:e}:null==e?{}:e}function ve(e){return null!=e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener&&"function"==typeof e.dispatchEvent}function ye(e,t,n){Object.defineProperty(e,t,{value:n,writable:!1,configurable:!0})}function _e(e,t){let n=[];for(;void 0!==e&&e._ho===t;){const t=de.get(e);t&&(n=n.concat(t)),e=e._pa}return n}function ge(e){const t=de.get(e);if(t&&t.length){for(const n of H(e._el))if(ve(n))for(const e of t)n.removeEventListener(e.type,e.callback,e.options);t.length=0}}function be(e,t){if(16&e._f||!e._it||"function"!=typeof e._it.throw)throw t;let n;ae(e);try{e._f|=2,n=e._it.throw(t)}catch(r){throw e._f|=16,r}finally{e._f&=-3}return T(n)?n.then((t=>(t.done&&(e._f|=16),se(e,t.value))),(t=>{throw e._f|=16,t})):(n.done&&(e._f|=16),se(e,n.value))}function me(e,t){if(void 0===e)throw t;let n;try{n=be(e,t)}catch(r){return me(e._pa,r)}return T(n)?n.catch((t=>me(e._pa,t))):n}const we="http://www.w3.org/2000/svg";const Ee=new class extends class{constructor(){this._cache=new WeakMap}render(e,t,n){let r;if("object"==typeof t&&null!==t&&(r=this._cache.get(t)),void 0===r)r=M(D,{children:e,root:t}),r._n=n,"object"==typeof t&&null!==t&&null!=e&&this._cache.set(t,r);else{if(r._n!==n)throw new Error("Context mismatch");r.props={children:e,root:t},"object"==typeof t&&null!==t&&null==e&&this._cache.delete(t)}const o=V(this,t,r,n,void 0,r);if(T(o))return o.then((()=>{const e=this.read(O(H(r)));return null==t&&Q(this,r,void 0,r),e}));const i=this.read(O(H(r)));return null==t&&Q(this,r,void 0,r),i}read(e){return e}scope(e,t){return t}escape(e,t){return e}parse(e,t){return e}create(e,t){throw new Error("Not implemented")}patch(e,t){}arrange(e,t,n){}dispose(e,t){}complete(e){}}{render(e,t,n){if(null==t||"number"!=typeof t.nodeType)throw new TypeError(`Render root is not a node. Received: ${JSON.stringify(t&&t.toString())}`);return super.render(e,t,n)}parse(e){if("function"==typeof document.createRange)return document.createRange().createContextualFragment(e);{const t=document.createDocumentFragment(),n=(new DOMParser).parseFromString(e,"text/html").body.childNodes;for(let e=0;e<n.length;e++)t.appendChild(n[e]);return t}}scope(e,t){switch(e.tag){case D:case"foreignObject":return;case"svg":return we;default:return t}}create(e,t){if("string"!=typeof e.tag)throw new Error(`Unknown tag: ${e.tag.toString()}`);return"svg"===e.tag&&(t=we),t?document.createElementNS(t,e.tag):document.createElement(e.tag)}patch(e,t){const n=t.namespaceURI===we;for(let r in e.props){let o=!1;const i=e.props[r];switch(r){case"children":break;case"style":{const e=t.style;if(null==e)t.setAttribute("style",i);else if(null==i)t.removeAttribute("style");else if("string"==typeof i)e.cssText!==i&&(e.cssText=i);else for(const t in i){const n=i&&i[t];null==n?e.removeProperty(t):e.getPropertyValue(t)!==n&&e.setProperty(t,n)}break}case"class":case"className":!0===i?t.setAttribute("class",""):i?n?t.getAttribute("class")!==i&&t.setAttribute("class",i):t.className!==i&&(t.className=i):t.removeAttribute("class");break;case"form":case"list":case"type":case"size":o=!0;default:null==i?t.removeAttribute(r):"function"==typeof i||"object"==typeof i||!o&&!n&&r in t?t[r]!==i&&(t[r]=i):!0===i?t.setAttribute(r,""):!1===i?t.removeAttribute(r):t.getAttribute(r)!==i&&t.setAttribute(r,i)}}}arrange(e,t,n){if(e.tag===D&&(null==t||"number"!=typeof t.nodeType))throw new TypeError(`Portal root is not a node. Received: ${JSON.stringify(t&&t.toString())}`);if(!("innerHTML"in e.props)&&("children"in e.props||e.hadChildren))if(0===n.length)t.textContent="";else{let e=t.firstChild,r=0;for(;null!==e&&r<n.length;){const o=n[r];if(e===o)e=e.nextSibling,r++;else if("string"==typeof o)e.nodeType===Node.TEXT_NODE?(e.data!==o&&(e.data=o),e=e.nextSibling):t.insertBefore(document.createTextNode(o),e),r++;else if(e.nodeType===Node.TEXT_NODE){const n=e.nextSibling;t.removeChild(e),e=n}else if(t.insertBefore(o,e),r++,e!==n[r]){const n=e.nextSibling;t.removeChild(e),e=n}}for(;null!==e;){const n=e.nextSibling;t.removeChild(e),e=n}for(;r<n.length;r++){const e=n[r];t.appendChild("string"==typeof e?document.createTextNode(e):e)}}}};var Se="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ie={exports:{}},ke=Ie.exports=function e(t,n,r){function o(a,c){if(!n[a]){if(!t[a]){var s="function"==typeof require&&require;if(!c&&s)return s(a,!0);if(i)return i(a,!0);var f=new Error("Cannot find module '"+a+"'");throw f.code="MODULE_NOT_FOUND",f}var u=n[a]={exports:{}};t[a][0].call(u.exports,(function(e){var n=t[a][1][e];return o(n||e)}),u,u.exports,e,t,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,n){(function(e){var n,r,o=e.MutationObserver||e.WebKitMutationObserver;if(o){var i=0,a=new o(u),c=e.document.createTextNode("");a.observe(c,{characterData:!0}),n=function(){c.data=i=++i%2}}else if(e.setImmediate||void 0===e.MessageChannel)n="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){u(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(u,0)};else{var s=new e.MessageChannel;s.port1.onmessage=u,n=function(){s.port2.postMessage(0)}}var f=[];function u(){var e,t;r=!0;for(var n=f.length;n;){for(t=f,f=[],e=-1;++e<n;)t[e]();n=f.length}r=!1}function l(e){1!==f.push(e)||r||n()}t.exports=l}).call(this,void 0!==Se?Se:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,n){var r=e(1);function o(){}var i={},a=["REJECTED"],c=["FULFILLED"],s=["PENDING"];function f(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=s,this.queue=[],this.outcome=void 0,e!==o&&d(this,e)}function u(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function l(e,t,n){r((function(){var r;try{r=t(n)}catch(o){return i.reject(e,o)}r===e?i.reject(e,new TypeError("Cannot resolve promise with itself")):i.resolve(e,r)}))}function h(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function d(e,t){var n=!1;function r(t){n||(n=!0,i.reject(e,t))}function o(t){n||(n=!0,i.resolve(e,t))}function a(){t(o,r)}var c=p(a);"error"===c.status&&r(c.value)}function p(e,t){var n={};try{n.value=e(t),n.status="success"}catch(r){n.status="error",n.value=r}return n}function v(e){return e instanceof this?e:i.resolve(new this(o),e)}function y(e){var t=new this(o);return i.reject(t,e)}function _(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var a=new Array(n),c=0,s=-1,f=new this(o);++s<n;)u(e[s],s);return f;function u(e,o){function s(e){a[o]=e,++c!==n||r||(r=!0,i.resolve(f,a))}t.resolve(e).then(s,(function(e){r||(r=!0,i.reject(f,e))}))}}function g(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var a=-1,c=new this(o);++a<n;)s(e[a]);return c;function s(e){t.resolve(e).then((function(e){r||(r=!0,i.resolve(c,e))}),(function(e){r||(r=!0,i.reject(c,e))}))}}t.exports=f,f.prototype.catch=function(e){return this.then(null,e)},f.prototype.then=function(e,t){if("function"!=typeof e&&this.state===c||"function"!=typeof t&&this.state===a)return this;var n=new this.constructor(o);return this.state!==s?l(n,this.state===c?e:t,this.outcome):this.queue.push(new u(n,e,t)),n},u.prototype.callFulfilled=function(e){i.resolve(this.promise,e)},u.prototype.otherCallFulfilled=function(e){l(this.promise,this.onFulfilled,e)},u.prototype.callRejected=function(e){i.reject(this.promise,e)},u.prototype.otherCallRejected=function(e){l(this.promise,this.onRejected,e)},i.resolve=function(e,t){var n=p(h,t);if("error"===n.status)return i.reject(e,n.value);var r=n.value;if(r)d(e,r);else{e.state=c,e.outcome=t;for(var o=-1,a=e.queue.length;++o<a;)e.queue[o].callFulfilled(t)}return e},i.reject=function(e,t){e.state=a,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},f.resolve=v,f.reject=y,f.all=_,f.race=g},{1:1}],3:[function(e,t,n){(function(t){"function"!=typeof t.Promise&&(t.Promise=e(2))}).call(this,void 0!==Se?Se:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(e,t,n){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(e){return}}var a=i();function c(){try{if(!a||!a.open)return!1;var e="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),t="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!e||t)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(n){return!1}}function s(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(o){if("TypeError"!==o.name)throw o;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),r=0;r<e.length;r+=1)n.append(e[r]);return n.getBlob(t.type)}}"undefined"==typeof Promise&&e(3);var f=Promise;function u(e,t){t&&e.then((function(e){t(null,e)}),(function(e){t(e)}))}function l(e,t,n){"function"==typeof t&&e.then(t),"function"==typeof n&&e.catch(n)}function h(e){return"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function d(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var p="local-forage-detect-blob-support",v=void 0,y={},_=Object.prototype.toString,g="readonly",b="readwrite";function m(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),o=0;o<t;o++)r[o]=e.charCodeAt(o);return n}function w(e){return new f((function(t){var n=e.transaction(p,b),r=s([""]);n.objectStore(p).put(r,"key"),n.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)},n.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);t(n||!e||parseInt(e[1],10)>=43)}})).catch((function(){return!1}))}function E(e){return"boolean"==typeof v?f.resolve(v):w(e).then((function(e){return v=e}))}function S(e){var t=y[e.name],n={};n.promise=new f((function(e,t){n.resolve=e,n.reject=t})),t.deferredOperations.push(n),t.dbReady?t.dbReady=t.dbReady.then((function(){return n.promise})):t.dbReady=n.promise}function I(e){var t=y[e.name].deferredOperations.pop();if(t)return t.resolve(),t.promise}function k(e,t){var n=y[e.name].deferredOperations.pop();if(n)return n.reject(t),n.promise}function x(e,t){return new f((function(n,r){if(y[e.name]=y[e.name]||P(),e.db){if(!t)return n(e.db);S(e),e.db.close()}var o=[e.name];t&&o.push(e.version);var i=a.open.apply(a,o);t&&(i.onupgradeneeded=function(t){var n=i.result;try{n.createObjectStore(e.storeName),t.oldVersion<=1&&n.createObjectStore(p)}catch(r){if("ConstraintError"!==r.name)throw r;console.warn('The database "'+e.name+'" has been upgraded from version '+t.oldVersion+" to version "+t.newVersion+', but the storage "'+e.storeName+'" already exists.')}}),i.onerror=function(e){e.preventDefault(),r(i.error)},i.onsuccess=function(){n(i.result),I(e)}}))}function N(e){return x(e,!1)}function R(e){return x(e,!0)}function j(e,t){if(!e.db)return!0;var n=!e.db.objectStoreNames.contains(e.storeName),r=e.version<e.db.version,o=e.version>e.db.version;if(r&&(e.version!==t&&console.warn('The database "'+e.name+"\" can't be downgraded from version "+e.db.version+" to version "+e.version+"."),e.version=e.db.version),o||n){if(n){var i=e.db.version+1;i>e.version&&(e.version=i)}return!0}return!1}function A(e){return new f((function(t,n){var r=new FileReader;r.onerror=n,r.onloadend=function(n){var r=btoa(n.target.result||"");t({__local_forage_encoded_blob:!0,data:r,type:e.type})},r.readAsBinaryString(e)}))}function C(e){return s([m(atob(e.data))],{type:e.type})}function O(e){return e&&e.__local_forage_encoded_blob}function T(e){var t=this,n=t._initReady().then((function(){var e=y[t._dbInfo.name];if(e&&e.dbReady)return e.dbReady}));return l(n,e,e),n}function L(e){S(e);for(var t=y[e.name],n=t.forages,r=0;r<n.length;r++){var o=n[r];o._dbInfo.db&&(o._dbInfo.db.close(),o._dbInfo.db=null)}return e.db=null,N(e).then((function(t){return e.db=t,j(e)?R(e):t})).then((function(r){e.db=t.db=r;for(var o=0;o<n.length;o++)n[o]._dbInfo.db=r})).catch((function(t){throw k(e,t),t}))}function D(e,t,n,r){void 0===r&&(r=1);try{var o=e.db.transaction(e.storeName,t);n(null,o)}catch(i){if(r>0&&(!e.db||"InvalidStateError"===i.name||"NotFoundError"===i.name))return f.resolve().then((function(){if(!e.db||"NotFoundError"===i.name&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),R(e)})).then((function(){return L(e).then((function(){D(e,t,n,r-1)}))})).catch(n);n(i)}}function P(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function B(e){var t=this,n={db:null};if(e)for(var r in e)n[r]=e[r];var o=y[n.name];o||(o=P(),y[n.name]=o),o.forages.push(t),t._initReady||(t._initReady=t.ready,t.ready=T);var i=[];function a(){return f.resolve()}for(var c=0;c<o.forages.length;c++){var s=o.forages[c];s!==t&&i.push(s._initReady().catch(a))}var u=o.forages.slice(0);return f.all(i).then((function(){return n.db=o.db,N(n)})).then((function(e){return n.db=e,j(n,t._defaultConfig.version)?R(n):e})).then((function(e){n.db=o.db=e,t._dbInfo=n;for(var r=0;r<u.length;r++){var i=u[r];i!==t&&(i._dbInfo.db=n.db,i._dbInfo.version=n.version)}}))}function U(e,t){var n=this;e=h(e);var r=new f((function(t,r){n.ready().then((function(){D(n._dbInfo,g,(function(o,i){if(o)return r(o);try{var a=i.objectStore(n._dbInfo.storeName).get(e);a.onsuccess=function(){var e=a.result;void 0===e&&(e=null),O(e)&&(e=C(e)),t(e)},a.onerror=function(){r(a.error)}}catch(c){r(c)}}))})).catch(r)}));return u(r,t),r}function F(e,t){var n=this,r=new f((function(t,r){n.ready().then((function(){D(n._dbInfo,g,(function(o,i){if(o)return r(o);try{var a=i.objectStore(n._dbInfo.storeName).openCursor(),c=1;a.onsuccess=function(){var n=a.result;if(n){var r=n.value;O(r)&&(r=C(r));var o=e(r,n.key,c++);void 0!==o?t(o):n.continue()}else t()},a.onerror=function(){r(a.error)}}catch(s){r(s)}}))})).catch(r)}));return u(r,t),r}function M(e,t,n){var r=this;e=h(e);var o=new f((function(n,o){var i;r.ready().then((function(){return i=r._dbInfo,"[object Blob]"===_.call(t)?E(i.db).then((function(e){return e?t:A(t)})):t})).then((function(t){D(r._dbInfo,b,(function(i,a){if(i)return o(i);try{var c=a.objectStore(r._dbInfo.storeName);null===t&&(t=void 0);var s=c.put(t,e);a.oncomplete=function(){void 0===t&&(t=null),n(t)},a.onabort=a.onerror=function(){var e=s.error?s.error:s.transaction.error;o(e)}}catch(f){o(f)}}))})).catch(o)}));return u(o,n),o}function z(e,t){var n=this;e=h(e);var r=new f((function(t,r){n.ready().then((function(){D(n._dbInfo,b,(function(o,i){if(o)return r(o);try{var a=i.objectStore(n._dbInfo.storeName).delete(e);i.oncomplete=function(){t()},i.onerror=function(){r(a.error)},i.onabort=function(){var e=a.error?a.error:a.transaction.error;r(e)}}catch(c){r(c)}}))})).catch(r)}));return u(r,t),r}function q(e){var t=this,n=new f((function(e,n){t.ready().then((function(){D(t._dbInfo,b,(function(r,o){if(r)return n(r);try{var i=o.objectStore(t._dbInfo.storeName).clear();o.oncomplete=function(){e()},o.onabort=o.onerror=function(){var e=i.error?i.error:i.transaction.error;n(e)}}catch(a){n(a)}}))})).catch(n)}));return u(n,e),n}function W(e){var t=this,n=new f((function(e,n){t.ready().then((function(){D(t._dbInfo,g,(function(r,o){if(r)return n(r);try{var i=o.objectStore(t._dbInfo.storeName).count();i.onsuccess=function(){e(i.result)},i.onerror=function(){n(i.error)}}catch(a){n(a)}}))})).catch(n)}));return u(n,e),n}function $(e,t){var n=this,r=new f((function(t,r){e<0?t(null):n.ready().then((function(){D(n._dbInfo,g,(function(o,i){if(o)return r(o);try{var a=i.objectStore(n._dbInfo.storeName),c=!1,s=a.openKeyCursor();s.onsuccess=function(){var n=s.result;n?0===e||c?t(n.key):(c=!0,n.advance(e)):t(null)},s.onerror=function(){r(s.error)}}catch(f){r(f)}}))})).catch(r)}));return u(r,t),r}function H(e){var t=this,n=new f((function(e,n){t.ready().then((function(){D(t._dbInfo,g,(function(r,o){if(r)return n(r);try{var i=o.objectStore(t._dbInfo.storeName).openKeyCursor(),a=[];i.onsuccess=function(){var t=i.result;t?(a.push(t.key),t.continue()):e(a)},i.onerror=function(){n(i.error)}}catch(c){n(c)}}))})).catch(n)}));return u(n,e),n}function K(e,t){t=d.apply(this,arguments);var n=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var r,o=this;if(e.name){var i=e.name===n.name&&o._dbInfo.db?f.resolve(o._dbInfo.db):N(e).then((function(t){var n=y[e.name],r=n.forages;n.db=t;for(var o=0;o<r.length;o++)r[o]._dbInfo.db=t;return t}));r=e.storeName?i.then((function(t){if(t.objectStoreNames.contains(e.storeName)){var n=t.version+1;S(e);var r=y[e.name],o=r.forages;t.close();for(var i=0;i<o.length;i++){var c=o[i];c._dbInfo.db=null,c._dbInfo.version=n}return new f((function(t,r){var o=a.open(e.name,n);o.onerror=function(e){o.result.close(),r(e)},o.onupgradeneeded=function(){o.result.deleteObjectStore(e.storeName)},o.onsuccess=function(){var e=o.result;e.close(),t(e)}})).then((function(e){r.db=e;for(var t=0;t<o.length;t++){var n=o[t];n._dbInfo.db=e,I(n._dbInfo)}})).catch((function(t){throw(k(e,t)||f.resolve()).catch((function(){})),t}))}})):i.then((function(t){S(e);var n=y[e.name],r=n.forages;t.close();for(var o=0;o<r.length;o++)r[o]._dbInfo.db=null;return new f((function(t,n){var r=a.deleteDatabase(e.name);r.onerror=r.onblocked=function(e){var t=r.result;t&&t.close(),n(e)},r.onsuccess=function(){var e=r.result;e&&e.close(),t(e)}})).then((function(e){n.db=e;for(var t=0;t<r.length;t++)I(r[t]._dbInfo)})).catch((function(t){throw(k(e,t)||f.resolve()).catch((function(){})),t}))}))}else r=f.reject("Invalid arguments");return u(r,t),r}var V={_driver:"asyncStorage",_initStorage:B,_support:c(),iterate:F,getItem:U,setItem:M,removeItem:z,clear:q,length:W,key:$,keys:H,dropInstance:K};function X(){return"function"==typeof openDatabase}var G="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",J="~~local_forage_type~",Q=/^~~local_forage_type~([^~]+)~/,Y="__lfsc__:",Z=Y.length,ee="arbf",te="blob",ne="si08",re="ui08",oe="uic8",ie="si16",ae="si32",ce="ur16",se="ui32",fe="fl32",ue="fl64",le=Z+ee.length,he=Object.prototype.toString;function de(e){var t,n,r,o,i,a=.75*e.length,c=e.length,s=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var f=new ArrayBuffer(a),u=new Uint8Array(f);for(t=0;t<c;t+=4)n=G.indexOf(e[t]),r=G.indexOf(e[t+1]),o=G.indexOf(e[t+2]),i=G.indexOf(e[t+3]),u[s++]=n<<2|r>>4,u[s++]=(15&r)<<4|o>>2,u[s++]=(3&o)<<6|63&i;return f}function pe(e){var t,n=new Uint8Array(e),r="";for(t=0;t<n.length;t+=3)r+=G[n[t]>>2],r+=G[(3&n[t])<<4|n[t+1]>>4],r+=G[(15&n[t+1])<<2|n[t+2]>>6],r+=G[63&n[t+2]];return n.length%3==2?r=r.substring(0,r.length-1)+"=":n.length%3==1&&(r=r.substring(0,r.length-2)+"=="),r}function ve(e,t){var n="";if(e&&(n=he.call(e)),e&&("[object ArrayBuffer]"===n||e.buffer&&"[object ArrayBuffer]"===he.call(e.buffer))){var r,o=Y;e instanceof ArrayBuffer?(r=e,o+=ee):(r=e.buffer,"[object Int8Array]"===n?o+=ne:"[object Uint8Array]"===n?o+=re:"[object Uint8ClampedArray]"===n?o+=oe:"[object Int16Array]"===n?o+=ie:"[object Uint16Array]"===n?o+=ce:"[object Int32Array]"===n?o+=ae:"[object Uint32Array]"===n?o+=se:"[object Float32Array]"===n?o+=fe:"[object Float64Array]"===n?o+=ue:t(new Error("Failed to get type for BinaryArray"))),t(o+pe(r))}else if("[object Blob]"===n){var i=new FileReader;i.onload=function(){var n=J+e.type+"~"+pe(this.result);t(Y+te+n)},i.readAsArrayBuffer(e)}else try{t(JSON.stringify(e))}catch(a){console.error("Couldn't convert value into a JSON string: ",e),t(null,a)}}function ye(e){if(e.substring(0,Z)!==Y)return JSON.parse(e);var t,n=e.substring(le),r=e.substring(Z,le);if(r===te&&Q.test(n)){var o=n.match(Q);t=o[1],n=n.substring(o[0].length)}var i=de(n);switch(r){case ee:return i;case te:return s([i],{type:t});case ne:return new Int8Array(i);case re:return new Uint8Array(i);case oe:return new Uint8ClampedArray(i);case ie:return new Int16Array(i);case ce:return new Uint16Array(i);case ae:return new Int32Array(i);case se:return new Uint32Array(i);case fe:return new Float32Array(i);case ue:return new Float64Array(i);default:throw new Error("Unkown type: "+r)}}var _e={serialize:ve,deserialize:ye,stringToBuffer:de,bufferToString:pe};function ge(e,t,n,r){e.executeSql("CREATE TABLE IF NOT EXISTS "+t.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],n,r)}function be(e){var t=this,n={db:null};if(e)for(var r in e)n[r]="string"!=typeof e[r]?e[r].toString():e[r];var o=new f((function(e,r){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(o){return r(o)}n.db.transaction((function(o){ge(o,n,(function(){t._dbInfo=n,e()}),(function(e,t){r(t)}))}),r)}));return n.serializer=_e,o}function me(e,t,n,r,o,i){e.executeSql(n,r,o,(function(e,a){a.code===a.SYNTAX_ERR?e.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[t.storeName],(function(e,c){c.rows.length?i(e,a):ge(e,t,(function(){e.executeSql(n,r,o,i)}),i)}),i):i(e,a)}),i)}function we(e,t){var n=this;e=h(e);var r=new f((function(t,r){n.ready().then((function(){var o=n._dbInfo;o.db.transaction((function(n){me(n,o,"SELECT * FROM "+o.storeName+" WHERE key = ? LIMIT 1",[e],(function(e,n){var r=n.rows.length?n.rows.item(0).value:null;r&&(r=o.serializer.deserialize(r)),t(r)}),(function(e,t){r(t)}))}))})).catch(r)}));return u(r,t),r}function Ee(e,t){var n=this,r=new f((function(t,r){n.ready().then((function(){var o=n._dbInfo;o.db.transaction((function(n){me(n,o,"SELECT * FROM "+o.storeName,[],(function(n,r){for(var i=r.rows,a=i.length,c=0;c<a;c++){var s=i.item(c),f=s.value;if(f&&(f=o.serializer.deserialize(f)),void 0!==(f=e(f,s.key,c+1)))return void t(f)}t()}),(function(e,t){r(t)}))}))})).catch(r)}));return u(r,t),r}function Se(e,t,n,r){var o=this;e=h(e);var i=new f((function(i,a){o.ready().then((function(){void 0===t&&(t=null);var c=t,s=o._dbInfo;s.serializer.serialize(t,(function(t,f){f?a(f):s.db.transaction((function(n){me(n,s,"INSERT OR REPLACE INTO "+s.storeName+" (key, value) VALUES (?, ?)",[e,t],(function(){i(c)}),(function(e,t){a(t)}))}),(function(t){if(t.code===t.QUOTA_ERR){if(r>0)return void i(Se.apply(o,[e,c,n,r-1]));a(t)}}))}))})).catch(a)}));return u(i,n),i}function Ie(e,t,n){return Se.apply(this,[e,t,n,1])}function ke(e,t){var n=this;e=h(e);var r=new f((function(t,r){n.ready().then((function(){var o=n._dbInfo;o.db.transaction((function(n){me(n,o,"DELETE FROM "+o.storeName+" WHERE key = ?",[e],(function(){t()}),(function(e,t){r(t)}))}))})).catch(r)}));return u(r,t),r}function xe(e){var t=this,n=new f((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){me(t,r,"DELETE FROM "+r.storeName,[],(function(){e()}),(function(e,t){n(t)}))}))})).catch(n)}));return u(n,e),n}function Ne(e){var t=this,n=new f((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){me(t,r,"SELECT COUNT(key) as c FROM "+r.storeName,[],(function(t,n){var r=n.rows.item(0).c;e(r)}),(function(e,t){n(t)}))}))})).catch(n)}));return u(n,e),n}function Re(e,t){var n=this,r=new f((function(t,r){n.ready().then((function(){var o=n._dbInfo;o.db.transaction((function(n){me(n,o,"SELECT key FROM "+o.storeName+" WHERE id = ? LIMIT 1",[e+1],(function(e,n){var r=n.rows.length?n.rows.item(0).key:null;t(r)}),(function(e,t){r(t)}))}))})).catch(r)}));return u(r,t),r}function je(e){var t=this,n=new f((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){me(t,r,"SELECT key FROM "+r.storeName,[],(function(t,n){for(var r=[],o=0;o<n.rows.length;o++)r.push(n.rows.item(o).key);e(r)}),(function(e,t){n(t)}))}))})).catch(n)}));return u(n,e),n}function Ae(e){return new f((function(t,n){e.transaction((function(r){r.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],(function(n,r){for(var o=[],i=0;i<r.rows.length;i++)o.push(r.rows.item(i).name);t({db:e,storeNames:o})}),(function(e,t){n(t)}))}),(function(e){n(e)}))}))}function Ce(e,t){t=d.apply(this,arguments);var n=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var r,o=this;return u(r=e.name?new f((function(t){var r;r=e.name===n.name?o._dbInfo.db:openDatabase(e.name,"","",0),e.storeName?t({db:r,storeNames:[e.storeName]}):t(Ae(r))})).then((function(e){return new f((function(t,n){e.db.transaction((function(r){function o(e){return new f((function(t,n){r.executeSql("DROP TABLE IF EXISTS "+e,[],(function(){t()}),(function(e,t){n(t)}))}))}for(var i=[],a=0,c=e.storeNames.length;a<c;a++)i.push(o(e.storeNames[a]));f.all(i).then((function(){t()})).catch((function(e){n(e)}))}),(function(e){n(e)}))}))})):f.reject("Invalid arguments"),t),r}var Oe={_driver:"webSQLStorage",_initStorage:be,_support:X(),iterate:Ee,getItem:we,setItem:Ie,removeItem:ke,clear:xe,length:Ne,key:Re,keys:je,dropInstance:Ce};function Te(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(e){return!1}}function Le(e,t){var n=e.name+"/";return e.storeName!==t.storeName&&(n+=e.storeName+"/"),n}function De(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch(t){return!0}}function Pe(){return!De()||localStorage.length>0}function Be(e){var t=this,n={};if(e)for(var r in e)n[r]=e[r];return n.keyPrefix=Le(e,t._defaultConfig),Pe()?(t._dbInfo=n,n.serializer=_e,f.resolve()):f.reject()}function Ue(e){var t=this,n=t.ready().then((function(){for(var e=t._dbInfo.keyPrefix,n=localStorage.length-1;n>=0;n--){var r=localStorage.key(n);0===r.indexOf(e)&&localStorage.removeItem(r)}}));return u(n,e),n}function Fe(e,t){var n=this;e=h(e);var r=n.ready().then((function(){var t=n._dbInfo,r=localStorage.getItem(t.keyPrefix+e);return r&&(r=t.serializer.deserialize(r)),r}));return u(r,t),r}function Me(e,t){var n=this,r=n.ready().then((function(){for(var t=n._dbInfo,r=t.keyPrefix,o=r.length,i=localStorage.length,a=1,c=0;c<i;c++){var s=localStorage.key(c);if(0===s.indexOf(r)){var f=localStorage.getItem(s);if(f&&(f=t.serializer.deserialize(f)),void 0!==(f=e(f,s.substring(o),a++)))return f}}}));return u(r,t),r}function ze(e,t){var n=this,r=n.ready().then((function(){var t,r=n._dbInfo;try{t=localStorage.key(e)}catch(o){t=null}return t&&(t=t.substring(r.keyPrefix.length)),t}));return u(r,t),r}function qe(e){var t=this,n=t.ready().then((function(){for(var e=t._dbInfo,n=localStorage.length,r=[],o=0;o<n;o++){var i=localStorage.key(o);0===i.indexOf(e.keyPrefix)&&r.push(i.substring(e.keyPrefix.length))}return r}));return u(n,e),n}function We(e){var t=this.keys().then((function(e){return e.length}));return u(t,e),t}function $e(e,t){var n=this;e=h(e);var r=n.ready().then((function(){var t=n._dbInfo;localStorage.removeItem(t.keyPrefix+e)}));return u(r,t),r}function He(e,t,n){var r=this;e=h(e);var o=r.ready().then((function(){void 0===t&&(t=null);var n=t;return new f((function(o,i){var a=r._dbInfo;a.serializer.serialize(t,(function(t,r){if(r)i(r);else try{localStorage.setItem(a.keyPrefix+e,t),o(n)}catch(c){"QuotaExceededError"!==c.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==c.name||i(c),i(c)}}))}))}));return u(o,n),o}function Ke(e,t){if(t=d.apply(this,arguments),!(e="function"!=typeof e&&e||{}).name){var n=this.config();e.name=e.name||n.name,e.storeName=e.storeName||n.storeName}var r,o=this;return u(r=e.name?new f((function(t){e.storeName?t(Le(e,o._defaultConfig)):t(e.name+"/")})).then((function(e){for(var t=localStorage.length-1;t>=0;t--){var n=localStorage.key(t);0===n.indexOf(e)&&localStorage.removeItem(n)}})):f.reject("Invalid arguments"),t),r}var Ve={_driver:"localStorageWrapper",_initStorage:Be,_support:Te(),iterate:Me,getItem:Fe,setItem:He,removeItem:$e,clear:Ue,length:We,key:ze,keys:qe,dropInstance:Ke},Xe=function(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)},Ge=function(e,t){for(var n=e.length,r=0;r<n;){if(Xe(e[r],t))return!0;r++}return!1},Je=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},Qe={},Ye={},Ze={INDEXEDDB:V,WEBSQL:Oe,LOCALSTORAGE:Ve},et=[Ze.INDEXEDDB._driver,Ze.WEBSQL._driver,Ze.LOCALSTORAGE._driver],tt=["dropInstance"],nt=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(tt),rt={description:"",driver:et.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function ot(e,t){e[t]=function(){var n=arguments;return e.ready().then((function(){return e[t].apply(e,n)}))}}function it(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t)for(var n in t)t.hasOwnProperty(n)&&(Je(t[n])?arguments[0][n]=t[n].slice():arguments[0][n]=t[n])}return arguments[0]}var at=new(function(){function e(t){for(var n in o(this,e),Ze)if(Ze.hasOwnProperty(n)){var r=Ze[n],i=r._driver;this[n]=i,Qe[i]||this.defineDriver(r)}this._defaultConfig=it({},rt),this._config=it({},this._defaultConfig,t),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch((function(){}))}return e.prototype.config=function(e){if("object"===(void 0===e?"undefined":r(e))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var t in e){if("storeName"===t&&(e[t]=e[t].replace(/\W/g,"_")),"version"===t&&"number"!=typeof e[t])return new Error("Database version must be a number.");this._config[t]=e[t]}return!("driver"in e)||!e.driver||this.setDriver(this._config.driver)}return"string"==typeof e?this._config[e]:this._config},e.prototype.defineDriver=function(e,t,n){var r=new f((function(t,n){try{var r=e._driver,o=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!e._driver)return void n(o);for(var i=nt.concat("_initStorage"),a=0,c=i.length;a<c;a++){var s=i[a];if((!Ge(tt,s)||e[s])&&"function"!=typeof e[s])return void n(o)}!function(){for(var t=function(e){return function(){var t=new Error("Method "+e+" is not implemented by the current driver"),n=f.reject(t);return u(n,arguments[arguments.length-1]),n}},n=0,r=tt.length;n<r;n++){var o=tt[n];e[o]||(e[o]=t(o))}}();var l=function(n){Qe[r]&&console.info("Redefining LocalForage driver: "+r),Qe[r]=e,Ye[r]=n,t()};"_support"in e?e._support&&"function"==typeof e._support?e._support().then(l,n):l(!!e._support):l(!0)}catch(h){n(h)}}));return l(r,t,n),r},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(e,t,n){var r=Qe[e]?f.resolve(Qe[e]):f.reject(new Error("Driver not found."));return l(r,t,n),r},e.prototype.getSerializer=function(e){var t=f.resolve(_e);return l(t,e),t},e.prototype.ready=function(e){var t=this,n=t._driverSet.then((function(){return null===t._ready&&(t._ready=t._initDriver()),t._ready}));return l(n,e,e),n},e.prototype.setDriver=function(e,t,n){var r=this;Je(e)||(e=[e]);var o=this._getSupportedDrivers(e);function i(){r._config.driver=r.driver()}function a(e){return r._extend(e),i(),r._ready=r._initStorage(r._config),r._ready}function c(e){return function(){var t=0;function n(){for(;t<e.length;){var o=e[t];return t++,r._dbInfo=null,r._ready=null,r.getDriver(o).then(a).catch(n)}i();var c=new Error("No available storage method found.");return r._driverSet=f.reject(c),r._driverSet}return n()}}var s=null!==this._driverSet?this._driverSet.catch((function(){return f.resolve()})):f.resolve();return this._driverSet=s.then((function(){var e=o[0];return r._dbInfo=null,r._ready=null,r.getDriver(e).then((function(e){r._driver=e._driver,i(),r._wrapLibraryMethodsWithReady(),r._initDriver=c(o)}))})).catch((function(){i();var e=new Error("No available storage method found.");return r._driverSet=f.reject(e),r._driverSet})),l(this._driverSet,t,n),this._driverSet},e.prototype.supports=function(e){return!!Ye[e]},e.prototype._extend=function(e){it(this,e)},e.prototype._getSupportedDrivers=function(e){for(var t=[],n=0,r=e.length;n<r;n++){var o=e[n];this.supports(o)&&t.push(o)}return t},e.prototype._wrapLibraryMethodsWithReady=function(){for(var e=0,t=nt.length;e<t;e++)ot(this,nt[e])},e.prototype.createInstance=function(t){return new e(t)},e}());t.exports=at},{3:3}]},{},[4])(4);export{P as C,L as F,M as c,ke as l,R as p,Ee as r};
