var t=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)},e=d,n=a,o=function(t){return c(a(t))},r=c,i=u,s=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^()])+)\\))?|\\(((?:\\\\.|[^()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function a(t){for(var e,n=[],o=0,r=0,i="";null!=(e=s.exec(t));){var a=e[0],c=e[1],h=e.index;if(i+=t.slice(r,h),r=h+a.length,c)i+=c[1];else{i&&(n.push(i),i="");var l=e[2],p=e[3],u=e[4],d=e[5],_=e[6],g=e[7],y="+"===_||"*"===_,v="?"===_||"*"===_,m=l||"/",b=u||d||(g?".*":"[^"+m+"]+?");n.push({name:p||o++,prefix:l||"",delimiter:m,optional:v,repeat:y,pattern:f(b)})}}return r<t.length&&(i+=t.substr(r)),i&&n.push(i),n}function c(e){for(var n=new Array(e.length),o=0;o<e.length;o++)"object"==typeof e[o]&&(n[o]=new RegExp("^"+e[o].pattern+"$"));return function(o){for(var r="",i=o||{},s=0;s<e.length;s++){var a=e[s];if("string"!=typeof a){var c,h=i[a.name];if(null==h){if(a.optional)continue;throw new TypeError('Expected "'+a.name+'" to be defined')}if(t(h)){if(!a.repeat)throw new TypeError('Expected "'+a.name+'" to not repeat, but received "'+h+'"');if(0===h.length){if(a.optional)continue;throw new TypeError('Expected "'+a.name+'" to not be empty')}for(var f=0;f<h.length;f++){if(c=encodeURIComponent(h[f]),!n[s].test(c))throw new TypeError('Expected all "'+a.name+'" to match "'+a.pattern+'", but received "'+c+'"');r+=(0===f?a.prefix:a.delimiter)+c}}else{if(c=encodeURIComponent(h),!n[s].test(c))throw new TypeError('Expected "'+a.name+'" to match "'+a.pattern+'", but received "'+c+'"');r+=a.prefix+c}}else r+=a}return r}}function h(t){return t.replace(/([.+*?=^!:${}()[\]|\/])/g,"\\$1")}function f(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function l(t,e){return t.keys=e,t}function p(t){return t.sensitive?"":"i"}function u(t,e){for(var n=(e=e||{}).strict,o=!1!==e.end,r="",i=t[t.length-1],s="string"==typeof i&&/\/$/.test(i),a=0;a<t.length;a++){var c=t[a];if("string"==typeof c)r+=h(c);else{var f=h(c.prefix),l=c.pattern;c.repeat&&(l+="(?:"+f+l+")*"),r+=l=c.optional?f?"(?:"+f+"("+l+"))?":"("+l+")?":f+"("+l+")"}}return n||(r=(s?r.slice(0,-2):r)+"(?:\\/(?=$))?"),r+=o?"$":n&&s?"":"(?=\\/|$)",new RegExp("^"+r,p(e))}function d(e,n,o){return t(n=n||[])?o||(o={}):(o=n,n=[]),e instanceof RegExp?function(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var o=0;o<n.length;o++)e.push({name:o,prefix:null,delimiter:null,optional:!1,repeat:!1,pattern:null});return l(t,e)}(e,n):t(e)?function(t,e,n){for(var o=[],r=0;r<t.length;r++)o.push(d(t[r],e,n).source);return l(new RegExp("(?:"+o.join("|")+")",p(n)),e)}(e,n,o):function(t,e,n){for(var o=a(t),r=u(o,n),i=0;i<o.length;i++)"string"!=typeof o[i]&&e.push(o[i]);return l(r,e)}(e,n,o)}e.parse=n,e.compile=o,e.tokensToFunction=r,e.tokensToRegExp=i;var _,g="undefined"!=typeof document,y="undefined"!=typeof window,v="undefined"!=typeof history,m="undefined"!=typeof process,b=g&&document.ontouchstart?"touchstart":"click",w=y&&!(!window.history.location&&!window.location);function k(){this.callbacks=[],this.exits=[],this.current="",this.len=0,this._decodeURLComponents=!0,this._base="",this._strict=!1,this._running=!1,this._hashbang=!1,this.clickHandler=this.clickHandler.bind(this),this._onpopstate=this._onpopstate.bind(this)}function x(t,e){if("function"==typeof t)return x.call(this,"*",t);if("function"==typeof e)for(var n=new R(t,null,this),o=1;o<arguments.length;++o)this.callbacks.push(n.middleware(arguments[o]));else"string"==typeof t?this["string"==typeof e?"redirect":"show"](t,e):this.start(t)}function E(t){if(!t.handled){var e=this,n=e._window;(e._hashbang?w&&this._getBase()+n.location.hash.replace("#!",""):w&&n.location.pathname+n.location.search)!==t.canonicalPath&&(e.stop(),t.handled=!1,w&&(n.location.href=t.canonicalPath))}}function C(t,e,n){var o=this.page=n||x,r=o._window,i=o._hashbang,s=o._getBase();"/"===t[0]&&0!==t.indexOf(s)&&(t=s+(i?"#!":"")+t);var a=t.indexOf("?");this.canonicalPath=t;var c=new RegExp("^"+s.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"));if(this.path=t.replace(c,"")||"/",i&&(this.path=this.path.replace("#!","")||"/"),this.title=g&&r.document.title,this.state=e||{},this.state.path=t,this.querystring=~a?o._decodeURLEncodedURIComponent(t.slice(a+1)):"",this.pathname=o._decodeURLEncodedURIComponent(~a?t.slice(0,a):t),this.params={},this.hash="",!i){if(!~this.path.indexOf("#"))return;var h=this.path.split("#");this.path=this.pathname=h[0],this.hash=o._decodeURLEncodedURIComponent(h[1])||"",this.querystring=this.querystring.split("#")[0]}}function R(t,n,o){var r=this.page=o||P,i=n||{};i.strict=i.strict||r._strict,this.path="*"===t?"(.*)":t,this.method="GET",this.regexp=e(this.path,this.keys=[],i)}k.prototype.configure=function(t){var e=t||{};this._window=e.window||y&&window,this._decodeURLComponents=!1!==e.decodeURLComponents,this._popstate=!1!==e.popstate&&y,this._click=!1!==e.click&&g,this._hashbang=!!e.hashbang;var n=this._window;this._popstate?n.addEventListener("popstate",this._onpopstate,!1):y&&n.removeEventListener("popstate",this._onpopstate,!1),this._click?n.document.addEventListener(b,this.clickHandler,!1):g&&n.document.removeEventListener(b,this.clickHandler,!1),this._hashbang&&y&&!v?n.addEventListener("hashchange",this._onpopstate,!1):y&&n.removeEventListener("hashchange",this._onpopstate,!1)},k.prototype.base=function(t){if(0===arguments.length)return this._base;this._base=t},k.prototype._getBase=function(){var t=this._base;if(t)return t;var e=y&&this._window&&this._window.location;return y&&this._hashbang&&e&&"file:"===e.protocol&&(t=e.pathname),t},k.prototype.strict=function(t){if(0===arguments.length)return this._strict;this._strict=t},k.prototype.start=function(t){var e=t||{};if(this.configure(e),!1!==e.dispatch){var n;if(this._running=!0,w){var o=this._window.location;n=this._hashbang&&~o.hash.indexOf("#!")?o.hash.substr(2)+o.search:this._hashbang?o.search+o.hash:o.pathname+o.search+o.hash}this.replace(n,null,!0,e.dispatch)}},k.prototype.stop=function(){if(this._running){this.current="",this.len=0,this._running=!1;var t=this._window;this._click&&t.document.removeEventListener(b,this.clickHandler,!1),y&&t.removeEventListener("popstate",this._onpopstate,!1),y&&t.removeEventListener("hashchange",this._onpopstate,!1)}},k.prototype.show=function(t,e,n,o){var r=new C(t,e,this),i=this.prevContext;return this.prevContext=r,this.current=r.path,!1!==n&&this.dispatch(r,i),!1!==r.handled&&!1!==o&&r.pushState(),r},k.prototype.back=function(t,e){var n=this;if(this.len>0){var o=this._window;v&&o.history.back(),this.len--}else t?setTimeout((function(){n.show(t,e)})):setTimeout((function(){n.show(n._getBase(),e)}))},k.prototype.redirect=function(t,e){var n=this;"string"==typeof t&&"string"==typeof e&&x.call(this,t,(function(t){setTimeout((function(){n.replace(e)}),0)})),"string"==typeof t&&void 0===e&&setTimeout((function(){n.replace(t)}),0)},k.prototype.replace=function(t,e,n,o){var r=new C(t,e,this),i=this.prevContext;return this.prevContext=r,this.current=r.path,r.init=n,r.save(),!1!==o&&this.dispatch(r,i),r},k.prototype.dispatch=function(t,e){var n=0,o=0,r=this;function i(){var e=r.callbacks[n++];if(t.path===r.current)return e?void e(t,i):E.call(r,t);t.handled=!1}e?function t(){var n=r.exits[o++];if(!n)return i();n(e,t)}():i()},k.prototype.exit=function(t,e){if("function"==typeof t)return this.exit("*",t);for(var n=new R(t,null,this),o=1;o<arguments.length;++o)this.exits.push(n.middleware(arguments[o]))},k.prototype.clickHandler=function(t){if(1===this._which(t)&&!(t.metaKey||t.ctrlKey||t.shiftKey||t.defaultPrevented)){var e=t.target,n=t.path||(t.composedPath?t.composedPath():null);if(n)for(var o=0;o<n.length;o++)if(n[o].nodeName&&"A"===n[o].nodeName.toUpperCase()&&n[o].href){e=n[o];break}for(;e&&"A"!==e.nodeName.toUpperCase();)e=e.parentNode;if(e&&"A"===e.nodeName.toUpperCase()){var r="object"==typeof e.href&&"SVGAnimatedString"===e.href.constructor.name;if(!e.hasAttribute("download")&&"external"!==e.getAttribute("rel")){var i=e.getAttribute("href");if((this._hashbang||!this._samePath(e)||!e.hash&&"#"!==i)&&!(i&&i.indexOf("mailto:")>-1)&&!(r?e.target.baseVal:e.target)&&(r||this.sameOrigin(e.href))){var s=r?e.href.baseVal:e.pathname+e.search+(e.hash||"");s="/"!==s[0]?"/"+s:s,m&&s.match(/^\/[a-zA-Z]:\//)&&(s=s.replace(/^\/[a-zA-Z]:\//,"/"));var a=s,c=this._getBase();0===s.indexOf(c)&&(s=s.substr(c.length)),this._hashbang&&(s=s.replace("#!","")),(!c||a!==s||w&&"file:"===this._window.location.protocol)&&(t.preventDefault(),this.show(a))}}}}},k.prototype._onpopstate=(_=!1,y?(g&&"complete"===document.readyState?_=!0:window.addEventListener("load",(function(){setTimeout((function(){_=!0}),0)})),function(t){if(_){var e=this;if(t.state){var n=t.state.path;e.replace(n,t.state)}else if(w){var o=e._window.location;e.show(o.pathname+o.search+o.hash,void 0,void 0,!1)}}}):function(){}),k.prototype._which=function(t){return null==(t=t||y&&this._window.event).which?t.button:t.which},k.prototype._toURL=function(t){var e=this._window;if("function"==typeof URL&&w)return new URL(t,e.location.toString());if(g){var n=e.document.createElement("a");return n.href=t,n}},k.prototype.sameOrigin=function(t){if(!t||!w)return!1;var e=this._toURL(t),n=this._window.location;return n.protocol===e.protocol&&n.hostname===e.hostname&&(n.port===e.port||""===n.port&&(80==e.port||443==e.port))},k.prototype._samePath=function(t){if(!w)return!1;var e=this._window.location;return t.pathname===e.pathname&&t.search===e.search},k.prototype._decodeURLEncodedURIComponent=function(t){return"string"!=typeof t?t:this._decodeURLComponents?decodeURIComponent(t.replace(/\+/g," ")):t},C.prototype.pushState=function(){var t=this.page,e=t._window,n=t._hashbang;t.len++,v&&e.history.pushState(this.state,this.title,n&&"/"!==this.path?"#!"+this.path:this.canonicalPath)},C.prototype.save=function(){var t=this.page;v&&t._window.history.replaceState(this.state,this.title,t._hashbang&&"/"!==this.path?"#!"+this.path:this.canonicalPath)},R.prototype.middleware=function(t){var e=this;return function(n,o){if(e.match(n.path,n.params))return n.routePath=e.path,t(n,o);o()}},R.prototype.match=function(t,e){var n=this.keys,o=t.indexOf("?"),r=~o?t.slice(0,o):t,i=this.regexp.exec(decodeURIComponent(r));if(!i)return!1;delete e[0];for(var s=1,a=i.length;s<a;++s){var c=n[s-1],h=this.page._decodeURLEncodedURIComponent(i[s]);void 0===h&&hasOwnProperty.call(e,c.name)||(e[c.name]=h)}return!0};var P=function t(){var e=new k;function n(){return x.apply(e,arguments)}return n.callbacks=e.callbacks,n.exits=e.exits,n.base=e.base.bind(e),n.strict=e.strict.bind(e),n.start=e.start.bind(e),n.stop=e.stop.bind(e),n.show=e.show.bind(e),n.back=e.back.bind(e),n.redirect=e.redirect.bind(e),n.replace=e.replace.bind(e),n.dispatch=e.dispatch.bind(e),n.exit=e.exit.bind(e),n.configure=e.configure.bind(e),n.sameOrigin=e.sameOrigin.bind(e),n.clickHandler=e.clickHandler.bind(e),n.create=t,Object.defineProperty(n,"len",{get:function(){return e.len},set:function(t){e.len=t}}),Object.defineProperty(n,"current",{get:function(){return e.current},set:function(t){e.current=t}}),n.Context=C,n.Route=R,n}(),L=P,S=P;L.default=S;const A=()=>{};function T(t){return void 0===t?[]:Array.isArray(t)?t:[t]}function U(t){return 0===t.length?void 0:1===t.length?t[0]:t}function j(t){return null!=t&&"function"==typeof t.then}const O=Symbol.for("crank.Portal"),N=Symbol.for("crank.Copy"),$=Symbol.for("crank.Raw"),I=Symbol.for("crank.Element");class B{constructor(t,e,n,o){this._f=0,this.tag=t,this.props=e,this.key=n,this.ref=o,this._ch=void 0,this._n=void 0,this._fb=void 0,this._ic=void 0,this._ov=void 0}get hadChildren(){return 0!=(2&this._f)}}function H(t,e,...n){let o,r;const i={};if(null!=e)for(const s in e)switch(s){case"crank-key":null!=e["crank-key"]&&(o=e["crank-key"]);break;case"crank-ref":"function"==typeof e["crank-ref"]&&(r=e["crank-ref"]);break;default:i[s]=e[s]}return n.length>1?i.children=n:1===n.length&&(i.children=n[0]),new B(t,i,o,r)}function M(t){if("boolean"!=typeof t&&null!=t)return"string"==typeof t||function(t){return null!=t&&t.$$typeof===I}(t)?t:"function"==typeof t[Symbol.iterator]?H("",null,t):t.toString()}function z(t){const e=[];let n;for(let o=0;o<t.length;o++){const r=t[o];if(r)if("string"==typeof r)n=(n||"")+r;else if(Array.isArray(r))for(let t=0;t<r.length;t++){const o=r[t];o&&("string"==typeof o?n=(n||"")+o:(n&&(e.push(n),n=void 0),e.push(o)))}else n&&(e.push(n),n=void 0),e.push(r);else;}return n&&e.push(n),e}function D(t){return void 0!==t._fb?"object"==typeof t._fb?D(t._fb):t._fb:t.tag!==O?"function"!=typeof t.tag&&""!==t.tag?t._n:U(F(t)):void 0}function W(t){const e="function"==typeof t.tag?t._n:void 0;return e&&e._f&Z&&e._iv?e._iv:t._ic?t._ic:D(t)}function F(t){const e=[],n=T(t._ch);for(let o=0;o<n.length;o++){const t=n[o];t&&e.push("string"==typeof t?t:D(t))}return z(e)}B.prototype.$$typeof=I;function V(t,e,n,o,r,i){return i._f|=1,"function"==typeof i.tag?(i._n=new et(t,e,n,o,r,i),st(i._n)):i.tag===$?J(t,r,i,[]):(""!==i.tag&&(i.tag===O?e=i.props.root:(i._n=t.create(i,r),t.patch(i,i._n)),n=i,r=t.scope(n,r)),G(t,e,n,o,r,i,i.props.children))}function q(t,e,n,o,r,i){return"function"==typeof i.tag?st(i._n):i.tag===$?J(t,r,i,[]):(""!==i.tag&&(i.tag===O?e=i.props.root:t.patch(i,i._n),n=i,r=t.scope(n,r)),G(t,e,n,o,r,i,i.props.children))}function K(t){const e=new Map;for(let n=0;n<t.length;n++){const o=t[n];"object"==typeof o&&void 0!==o.key&&e.set(o.key,o)}return e}function G(t,e,n,o,r,i,s){const a=T(i._ch),c=null==(h=s)?[]:Array.isArray(h)?h:"string"==typeof h||"function"!=typeof h[Symbol.iterator]?[h]:[...h];var h;const f=[],l=[];let p,u,d,_=!1,g=0;for(let y=0,v=a.length,m=c.length;y<m;y++){let i,s=g>=v?void 0:a[g],h=M(c[y]),m="object"==typeof s?s.key:void 0,b="object"==typeof h?h.key:void 0;if(void 0!==b&&u&&u.has(b)&&(console.error("Duplicate key",b),b=void 0),m===b)void 0!==d&&void 0!==b&&d.delete(b),g++;else if(d||(d=K(a.slice(g))),void 0===b){for(;void 0!==s&&void 0!==m;)g++,s=a[g],m="object"==typeof s?s.key:void 0;g++}else s=d.get(b),void 0!==s&&d.delete(b),u||(u=new Set),u.add(b);"object"==typeof s&&"object"==typeof h&&s.tag===h.tag?(s.tag===O&&s.props.root!==h.props.root&&(t.arrange(s,s.props.root,[]),t.complete(s.props.root)),s.props=h.props,s.ref=h.ref,h=s,i=q(t,e,n,o,r,h)):"object"==typeof h?h.tag===N?(i="object"==typeof s?W(s):s,"function"==typeof h.ref&&(j(i)?i.then(h.ref).catch(A):h.ref(i)),h=s):(h=new B(h.tag,h.props,h.key,h.ref),i=V(t,e,n,o,r,h),j(i)&&(h._fb=s)):"string"==typeof h&&(h=i=t.escape(h,r)),f[y]=h,l[y]=i,_=_||j(i),"object"==typeof s&&s!==h&&(p||(p=[]),p.push(s))}for(i._ch=U(f);g<a.length;g++){const t=a[g];"object"==typeof t&&void 0===t.key&&(p||(p=[]),p.push(t))}if(void 0!==d&&d.size>0&&(p||(p=[]),p.push(...d.values())),_){let e,s=Promise.all(l).finally((()=>{if(p)for(let e=0;e<p.length;e++)X(t,n,o,p[e])}));s=Promise.race([s,new Promise((t=>e=t))]),i._ov&&i._ov(s),i._ov=e;return i._ic=s.then((e=>J(t,r,i,z(e))))}if(p)for(let y=0;y<p.length;y++)X(t,n,o,p[y]);return i._ov&&(i._ov(l),i._ov=void 0),J(t,r,i,z(l))}function J(t,e,n,o){let r;return n._ic&&(n._ic=void 0),void 0!==n._fb&&(n._fb=void 0),"function"==typeof n.tag?r=function(t,e){if(32&t._f)return;const n=pt.get(t);if(n&&n.length)for(let s=0;s<e.length;s++){const t=e[s];if(dt(t))for(let e=0;e<n.length;e++){const o=n[e];t.addEventListener(o.type,o.callback,o.options)}}if(256&t._f)t._f|=512;else if(!(t._f&Z)){const n=gt(t._pa,t._ho);if(n.length)for(let t=0;t<e.length;t++){const o=e[t];if(dt(o))for(let t=0;t<n.length;t++){const e=n[t];o.addEventListener(e.type,e.callback,e.options)}}const o=t._ho,r=F(o);t._re.arrange(o,o.tag===O?o.props.root:o._n,r),r.length?o._f|=2:o._f&=-3,t._re.complete(t._rt)}let o=U(e);const r=Y.get(t);if(r&&r.size){const e=Array.from(r);r.clear();const n=t._re.read(o);t._f|=256;for(const t of e)try{t(n)}catch(i){console.error(i)}t._f&=-257,512&t._f&&(t._f&=-513,o=D(t._el))}return t._f&=~Z,o}(n._n,o):n.tag===$?("string"==typeof n.props.value?n._n=t.parse(n.props.value,e):n._n=n.props.value,r=n._n):""===n.tag?r=U(o):(n.tag===O?(t.arrange(n,n.props.root,o),t.complete(n.props.root)):t.arrange(n,n._n,o),r=n._n,o.length?n._f|=2:n._f&=-3),n.ref&&n.ref(t.read(r)),r}function X(t,e,n,o){if("function"==typeof o.tag)!function(t){t._f|=32,yt(t);const e=tt.get(t);if(e&&e.size){const o=Array.from(e);e.clear();const r=t._re.read(D(t._el));for(const t of o)try{t(r)}catch(n){console.error(n)}}if(!(16&t._f)&&(t._f|=16,it(t),t._it&&"function"==typeof t._it.return))try{t._f|=2;const e=t._it.return();j(e)&&e.catch((e=>mt(t._pa,e)))}finally{t._f&=-3}}(o._n),n=o._n;else if(o.tag===O)e=o,t.arrange(e,e.props.root,[]),t.complete(e.props.root);else if(""!==o.tag){if(dt(o._n)){const t=gt(n,e);for(let e=0;e<t.length;e++){const n=t[e];o._n.removeEventListener(n.type,n.callback,n.options)}}e=o,t.dispose(e,e._n)}const r=T(o._ch);for(let i=0;i<r.length;i++){const o=r[i];"object"==typeof o&&X(t,e,n,o)}}const Z=1,Q=new WeakMap,Y=new WeakMap,tt=new WeakMap;class et{constructor(t,e,n,o,r,i){this._f=0,this._re=t,this._rt=e,this._ho=n,this._pa=o,this._sc=r,this._el=i,this._it=void 0,this._oa=void 0,this._ib=void 0,this._iv=void 0,this._eb=void 0,this._ev=void 0}get props(){return this._el.props}get value(){return this._re.read(D(this._el))}*[Symbol.iterator](){for(;!(16&this._f);){if(4&this._f)throw new Error("Context iterated twice without a yield");if(128&this._f)throw new Error("Use for await…of in async generator components");this._f|=4,yield this._el.props}}async*[Symbol.asyncIterator](){do{if(4&this._f)throw new Error("Context iterated twice without a yield");if(64&this._f)throw new Error("Use for…of in sync generator components");if(this._f|=4,8&this._f)this._f&=-9;else if(await new Promise((t=>this._oa=t)),16&this._f)break;yield this._el.props}while(!(16&this._f))}refresh(){return 32&this._f?(console.error("Component is unmounted"),this._re.read(void 0)):2&this._f?(console.error("Component is already executing"),this._re.read(void 0)):(it(this),this._re.read(rt(this)))}schedule(t){let e=Y.get(this);e||(e=new Set,Y.set(this,e)),e.add(t)}cleanup(t){let e=tt.get(this);e||(e=new Set,tt.set(this,e)),e.add(t)}consume(t){for(let e=this._pa;void 0!==e;e=e._pa){const n=Q.get(e);if(n&&n.has(t))return n.get(t)}}provide(t,e){let n=Q.get(this);n||(n=new Map,Q.set(this,n)),n.set(t,e)}addEventListener(t,e,n){let o,r;if(null==e)return;{const t=pt.get(this);t?o=t:(o=[],pt.set(this,o))}n=ut(n),r="object"==typeof e?()=>e.handleEvent.apply(e,arguments):e;const i={type:t,callback:r,listener:e,options:n};if(n.once&&(i.callback=function(){const t=o.indexOf(i);return-1!==t&&o.splice(t,1),r.apply(this,arguments)}),!o.some((t=>i.type===t.type&&i.listener===t.listener&&!i.options.capture==!t.options.capture))){o.push(i);for(const t of F(this._el))dt(t)&&t.addEventListener(i.type,i.callback,i.options)}}removeEventListener(t,e,n){const o=pt.get(this);if(null==e||null==o)return;const r=ut(n),i=o.findIndex((n=>n.type===t&&n.listener===e&&!n.options.capture==!r.capture));if(-1===i)return;const s=o[i];o.splice(i,1);for(const a of F(this._el))dt(a)&&a.removeEventListener(s.type,s.callback,s.options)}dispatchEvent(t){const e=[];for(let i=this._pa;void 0!==i;i=i._pa)e.push(i);let n=!1;const o=t.stopImmediatePropagation;_t(t,"stopImmediatePropagation",(()=>(n=!0,o.call(t)))),_t(t,"target",this);try{_t(t,"eventPhase",ht);for(let o=e.length-1;o>=0;o--){const r=e[o],i=pt.get(r);if(i){_t(t,"currentTarget",r);for(const e of i)if(e.type===t.type&&e.options.capture&&(e.callback.call(this,t),n))return!0}if(t.cancelBubble)return!0}{const e=pt.get(this);if(e){_t(t,"eventPhase",ft),_t(t,"currentTarget",this);for(const o of e)if(o.type===t.type&&(o.callback.call(this,t),n))return!0;if(t.cancelBubble)return!0}}if(t.bubbles){_t(t,"eventPhase",lt);for(let o=0;o<e.length;o++){const r=e[o],i=pt.get(r);if(i){_t(t,"currentTarget",r);for(const e of i)if(e.type===t.type&&!e.options.capture&&(e.callback.call(this,t),n))return!0}if(t.cancelBubble)return!0}}}catch(r){console.error(r)}finally{return _t(t,"eventPhase",ct),_t(t,"currentTarget",null),!t.defaultPrevented}}}function nt(t){const e=t._el;if(16&t._f)return[void 0,D(e)];const n=!t._it;if(n)try{t._f|=2,yt(t);const n=e.tag.call(t,e.props);if(!function(t){return null!=t&&"function"==typeof t.next}(n)){if(j(n)){const e=n instanceof Promise?n:Promise.resolve(n),o=e.then((e=>at(t,e)));return[e,o]}return[void 0,at(t,n)]}t._it=n}finally{t._f&=-3}let o,r,i;o=n?void 0:t._el._ic?t._el._ic.then(t._re.read,(()=>t._re.read(void 0))):t._re.read(D(e));try{t._f|=2,r=t._it.next(o)}catch(s){throw t._f|=16,s}finally{t._f&=-3}if(j(r)){n&&(t._f|=128);const e=r.then((e=>{4&t._f||(t._f&=-9),t._f&=-5,e.done&&(t._f|=16);try{const n=at(t,e.value);return j(n)?n.catch((e=>vt(t,e))):n}catch(s){return vt(t,s)}}),(e=>{throw t._f|=16,e}));return[r,e]}n&&(t._f|=64),t._f&=-5,r.done&&(t._f|=16);try{i=at(t,r.value),j(i)&&(i=i.catch((e=>vt(t,e))))}catch(s){i=vt(t,s)}return j(i)?[i.catch(A),i]:[void 0,i]}function ot(t){t._ib=t._eb,t._iv=t._ev,t._eb=void 0,t._ev=void 0,128&t._f&&!(16&t._f)&&rt(t)}function rt(t){if(t._ib){if(128&t._f)return t._iv;if(!t._eb){let e;t._eb=t._ib.then((()=>{try{const[n,o]=nt(t);if(e(o),n)return n.catch((e=>{if(!(t._f&Z))return mt(t._pa,e)}))}catch(n){if(!(t._f&Z))return mt(t._pa,n)}})).finally((()=>ot(t))),t._ev=new Promise((t=>e=t))}}else try{const[e,n]=nt(t);return e&&(t._ib=e.catch((e=>{if(!(t._f&Z))return mt(t._pa,e)})).finally((()=>ot(t))),t._iv=n),n}catch(e){if(!(t._f&Z))return mt(t._pa,e);throw e}return t._ev}function it(t){t._oa?(t._oa(),t._oa=void 0):t._f|=8}function st(t){return t._f|=Z,it(t),rt(t)}function at(t,e){return G(t._re,t._rt,t._ho,t,t._sc,t._el,M(e))}const ct=0,ht=1,ft=2,lt=3,pt=new WeakMap;function ut(t){return"boolean"==typeof t?{capture:t}:null==t?{}:t}function dt(t){return null!=t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener&&"function"==typeof t.dispatchEvent}function _t(t,e,n){Object.defineProperty(t,e,{value:n,writable:!1,configurable:!0})}function gt(t,e){let n=[];for(;void 0!==t&&t._ho===e;){const e=pt.get(t);e&&(n=n.concat(e)),t=t._pa}return n}function yt(t){const e=pt.get(t);if(e&&e.length){for(const n of F(t._el))if(dt(n))for(const t of e)n.removeEventListener(t.type,t.callback,t.options);e.length=0}}function vt(t,e){if(16&t._f||!t._it||"function"!=typeof t._it.throw)throw e;let n;it(t);try{t._f|=2,n=t._it.throw(e)}catch(o){throw t._f|=16,o}finally{t._f&=-3}return j(n)?n.then((e=>(e.done&&(t._f|=16),at(t,e.value))),(e=>{throw t._f|=16,e})):(n.done&&(t._f|=16),at(t,n.value))}function mt(t,e){if(void 0===t)throw e;let n;try{n=vt(t,e)}catch(o){return mt(t._pa,o)}return j(n)?n.catch((e=>mt(t._pa,e))):n}const bt="http://www.w3.org/2000/svg";const wt=new class extends class{constructor(){this._cache=new WeakMap}render(t,e,n){let o;if("object"==typeof e&&null!==e&&(o=this._cache.get(e)),void 0===o)o=H(O,{children:t,root:e}),o._n=n,"object"==typeof e&&null!==e&&null!=t&&this._cache.set(e,o);else{if(o._n!==n)throw new Error("Context mismatch");o.props={children:t,root:e},"object"==typeof e&&null!==e&&null==t&&this._cache.delete(e)}const r=q(this,e,o,n,void 0,o);if(j(r))return r.then((()=>{const t=this.read(U(F(o)));return null==e&&X(this,o,void 0,o),t}));const i=this.read(U(F(o)));return null==e&&X(this,o,void 0,o),i}read(t){return t}scope(t,e){return e}escape(t,e){return t}parse(t,e){return t}create(t,e){throw new Error("Not implemented")}patch(t,e){}arrange(t,e,n){}dispose(t,e){}complete(t){}}{render(t,e,n){if(null==e||"number"!=typeof e.nodeType)throw new TypeError(`Render root is not a node. Received: ${JSON.stringify(e&&e.toString())}`);return super.render(t,e,n)}parse(t){if("function"==typeof document.createRange)return document.createRange().createContextualFragment(t);{const e=document.createDocumentFragment(),n=(new DOMParser).parseFromString(t,"text/html").body.childNodes;for(let t=0;t<n.length;t++)e.appendChild(n[t]);return e}}scope(t,e){switch(t.tag){case O:case"foreignObject":return;case"svg":return bt;default:return e}}create(t,e){if("string"!=typeof t.tag)throw new Error(`Unknown tag: ${t.tag.toString()}`);return"svg"===t.tag&&(e=bt),e?document.createElementNS(e,t.tag):document.createElement(t.tag)}patch(t,e){const n=e.namespaceURI===bt;for(let o in t.props){let r=!1;const i=t.props[o];switch(o){case"children":break;case"style":{const t=e.style;if(null==t)e.setAttribute("style",i);else if(null==i)e.removeAttribute("style");else if("string"==typeof i)t.cssText!==i&&(t.cssText=i);else for(const e in i){const n=i&&i[e];null==n?t.removeProperty(e):t.getPropertyValue(e)!==n&&t.setProperty(e,n)}break}case"class":case"className":!0===i?e.setAttribute("class",""):i?n?e.getAttribute("class")!==i&&e.setAttribute("class",i):e.className!==i&&(e.className=i):e.removeAttribute("class");break;case"form":case"list":case"type":case"size":r=!0;default:null==i?e.removeAttribute(o):"function"==typeof i||"object"==typeof i||!r&&!n&&o in e?e[o]!==i&&(e[o]=i):!0===i?e.setAttribute(o,""):!1===i?e.removeAttribute(o):e.getAttribute(o)!==i&&e.setAttribute(o,i)}}}arrange(t,e,n){if(t.tag===O&&(null==e||"number"!=typeof e.nodeType))throw new TypeError(`Portal root is not a node. Received: ${JSON.stringify(e&&e.toString())}`);if(!("innerHTML"in t.props)&&("children"in t.props||t.hadChildren))if(0===n.length)e.textContent="";else{let t=e.firstChild,o=0;for(;null!==t&&o<n.length;){const r=n[o];if(t===r)t=t.nextSibling,o++;else if("string"==typeof r)t.nodeType===Node.TEXT_NODE?(t.data!==r&&(t.data=r),t=t.nextSibling):e.insertBefore(document.createTextNode(r),t),o++;else if(t.nodeType===Node.TEXT_NODE){const n=t.nextSibling;e.removeChild(t),t=n}else if(e.insertBefore(r,t),o++,t!==n[o]){const n=t.nextSibling;e.removeChild(t),t=n}}for(;null!==t;){const n=t.nextSibling;e.removeChild(t),t=n}for(;o<n.length;o++){const t=n[o];e.appendChild("string"==typeof t?document.createTextNode(t):t)}}}};export{N as C,H as c,L as p,wt as r};
